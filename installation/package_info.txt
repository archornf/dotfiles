pacman -Qe | awk '{print $1}' > package_list.txt

# Then use command below (you probably need to change it a bit, add sudo)
for x in $(cat package_list.txt); do pacman -S $x; done


# List packages not install from main repos:
pacman -Qm
